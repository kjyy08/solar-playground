<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/main :: layout(${title}, ~{::section})}">
<head>
    <title th:text="${title} + ' - Solar Playground'">Dashboard - Solar Playground</title>
</head>
<body>
    <section>
        <div class="dashboard-container">
            <!-- Welcome Section -->
            <div class="welcome-section">
                <h1>Welcome to Solar Playground</h1>
                <p class="text-muted">Upstage AI 모델을 활용한 RAG 기반 챗봇 플랫폼입니다</p>
            </div>

            <!-- Quick Stats -->
            <div class="row g-4 mb-4">
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-chat-dots"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="chatCount">0</h3>
                            <p>총 대화 수</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-file-earmark"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="fileCount">0</h3>
                            <p>업로드된 파일</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="bi bi-database"></i>
                        </div>
                        <div class="stat-content">
                            <h3 id="vectorCount">0</h3>
                            <p>벡터 임베딩</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="action-card">
                        <div class="action-header">
                            <i class="bi bi-chat-square-text"></i>
                            <h4>AI 챗봇 시작하기</h4>
                        </div>
                        <p>Solar Pro 2 모델과 대화하고 RAG 파이프라인을 실시간으로 확인하세요</p>
                        <a th:href="@{/chat}" class="btn btn-primary">
                            <i class="bi bi-arrow-right"></i>
                            채팅 시작
                        </a>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="action-card">
                        <div class="action-header">
                            <i class="bi bi-cloud-upload"></i>
                            <h4>문서 업로드</h4>
                        </div>
                        <p>문서를 업로드하여 AI가 분석하고 임베딩하도록 할 수 있습니다</p>
                        <a th:href="@{/files}" class="btn btn-primary">
                            <i class="bi bi-arrow-right"></i>
                            파일 관리
                        </a>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity mt-4">
                <h4>최근 활동</h4>
                <div class="activity-list" id="activityList">
                    <div class="activity-item">
                        <i class="bi bi-info-circle"></i>
                        <span>활동 내역이 없습니다. 채팅을 시작하거나 파일을 업로드해보세요!</span>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Load dashboard statistics
            async function loadDashboardStats() {
                try {
                    // TODO: Replace with actual API endpoints when available
                    // const stats = await axios.get('/api/v1/dashboard/stats');
                    // document.getElementById('chatCount').textContent = stats.data.chatCount;
                    // document.getElementById('fileCount').textContent = stats.data.fileCount;
                    // document.getElementById('vectorCount').textContent = stats.data.vectorCount;
                } catch (error) {
                    console.error('Failed to load dashboard stats:', error);
                }
            }

            // Load recent activity
            async function loadRecentActivity() {
                try {
                    // TODO: Replace with actual API endpoint when available
                    // const activity = await axios.get('/api/v1/dashboard/recent-activity');
                    // renderActivity(activity.data);
                } catch (error) {
                    console.error('Failed to load recent activity:', error);
                }
            }

            // Initialize dashboard
            document.addEventListener('DOMContentLoaded', function() {
                loadDashboardStats();
                loadRecentActivity();
            });
        </script>
    </section>
</body>
</html>
